import socket

if __name__ == "__main__":
    hacker_socket = socket.socket(socket.AF_INET, 
                                  socket.SOCK_STREAM)
    ip = "192.168.1.133"
    port = 65432
    socket_address = (ip, port)
    
    hacker_socket.bind(socket_address) #socket con ip y puerto
    hacker_socket.listen(5) #escucha peticiones de conexion
    print("listening for incoming connection request")
    hacker_socket, client_adress = hacker_socket.accept() #bloquea el codigo hasta que recibe una conexion valida
                                                          #cuando el cliente se conecta se devuelven dos parametros:
                                                                #hacker_socket para enviar y recibir datos
                                                                #direccion de la victima para que el programa sepa que cliente esta conectado
    
    message_ = "Hello hack-world" 
    message_bytes = message_.encode()
    hacker_socket.send(message_bytes)
    print("Salute from hacker")
    hacker_socket.close()
    
# To close the adress:
# kill -9 $(ps -A | grep python | awk '{print $1}')

